# 개념
* 사용자 접근 권한 관리 서비스
* IAM을 통해 사용자별 권한을 나눌 수 있음
* 예를 들어 EC2만 접근 허용된 사용자, S3만 접근 허용된 사용자를 분리 할 수 있음
* 최고 관리자가 Root계정을 관리하고 그밖의 사용자들은 각자 계정을 발급받아 제한된 권한을 갖고 이용
* IAM은 엑세스 권한 뿐만 아니라, 언제 어디서 누가 무엇을 어떻게 할 수 있는지를 정할 수 있음
* 예를 들어 특정IP로 특정시간에만 EC2를 이용가능하게 할 수 있음

# IAM 구성 요소
1. 사용자(Users)
1. 그룹(Groups)
1. 역학(Roles)
1. 정책(Policies)

## 사용자
* 실제 AWS의 기능과 자원을 이용하는 사람 혹은 어플리케이션
* 사용자별 또는 어플리케이션별 서비스에 엑세스 권한을 관리

## 그룹
* 여러 사용자를 그룹으로 맵핑해 공통으로 권한 부여
* 하나의 사용자는 최대 10개의 그룹에 포함 가능

## 역할
* 사용자의 권한 관리 편의를 위해 그룹이라는 개념을 사용했지만 권한이 다양해지면 그룹이 복잡해지며, 관리가 복잡해 역할이 등장
* 리소스에 대한 엑세스 권한이 없는 사용자나 서비스에게 일시적으로 권한을 위임
* 예를 들어 아무런 권한이 없는 IAM 사용자가 S3 버킷에 접근하려면 직접 정책을 설정하는 것도 하나의 방법이지만, 만일 사용할일이 끝나 정책을 회수하려면 다시 하나하나 설정을 업데이트 해줘야하는 번거러움이 있음
* 그래서 임시적인 자격 증명서를 IAM사용자에게 부여함으로써 임시 세션토큰을 발급받게 되고, 역할에 연결된 권한을 사용할 수 있게 되는것
* 필요에 따라 역할을 부여하고 회수하면 됨
* 다시말해 역할이란 역할을 만들고 역할을 그룹이나 사용자에게 부여하는 방식
* 역할은 AWS사용자 뿐만아니라, EC2 인스턴스, 심지어 다른 AWS 계정, Facebook, Google 등 폭 넓게 접근 권한을 설정 가능

## 정책
*  사용자와 그룹, 역할이 무엇을 할 수 있는지에 대한 permission설정 모음 데이터 문서(Json 형식으로 작성)
* 예를 들어 어떤 유저는 인스턴스를 올리수있는데 삭제를 못하거나, 버킷에 접근은 가능한데 파일을 추가할 수 없거나 등등 설정
* 이렇게 만들어진 정책 문서를 IAM 사용자와 그룹, 역할에 연결
* 정책 타입은 6개로 분류(자격 증명 기반, 리소스 정책 기반, 권한 경계 기반, 조직 SCP 기반, 엑세스 제어 리스트, 세션 정책)
* 자격증명 기반 정책은 사용자 또는 그룹, 역할이 수행할 수 있는 작업, 리소스 및 조건을 제어하는 Json권한 정책 문서

# Reference
1. https://inpa.tistory.com/entry/AWS-📚-IAM-개념-원리user-group-policy-role-IAM-계정-정책-생성
